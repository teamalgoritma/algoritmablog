<!DOCTYPE HTML>

<html>
    <head>
        <script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "\/"
        },
        "articleSection" : "blog",
        "name" : "Self-Organizing Maps",
        "headline" : "Self-Organizing Maps",
        "description" : "Introduction SOM Self-Organizing Maps first introduce by Teuvo Kohonen. According to the Wiki, Self-Organizing Map (SOM) or self-organizing feature map (SOFM) is a type of artificial neural network (ANN) that is trained using unsupervised learning to produce a low-dimensional (typically two-dimensional), discretized representation of the input space of the training samples, called a map, and is therefore a method to do dimensionality reduction. SOM are an unsupervised data visualisation technique that can be used to visualise high-dimensional data sets in lower (typically 2) dimensional representations.",
        "inLanguage" : "en",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2019",
        "datePublished": "2019-04-26 00:00:00 \x2b0000 UTC",
        "dateModified" : "2019-04-26 00:00:00 \x2b0000 UTC",
        "url" : "\/blog\/self-organizing-maps\/",
        "wordCount" : "2895",
        "keywords" : [ "SOM","Clustering","Unsupervised Learning","Machine Learning","Blog" ]
    }
    </script>
        
            
                <title>Self-Organizing Maps</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.60.1" />
        


        
            <meta name="author" content="Inayatus Sholikhah">
        
        
            
                <meta name="description" content="HTML5 UP theme, Future Imperfect with some extra goodies, ported by Julio Pescador. Powered by Hugo">
            
        

        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Self-Organizing Maps"/>
<meta name="twitter:description" content="Introduction SOM Self-Organizing Maps first introduce by Teuvo Kohonen. According to the Wiki, Self-Organizing Map (SOM) or self-organizing feature map (SOFM) is a type of artificial neural network (ANN) that is trained using unsupervised learning to produce a low-dimensional (typically two-dimensional), discretized representation of the input space of the training samples, called a map, and is therefore a method to do dimensionality reduction. SOM are an unsupervised data visualisation technique that can be used to visualise high-dimensional data sets in lower (typically 2) dimensional representations."/>
<meta name="twitter:site" content="@teamalgoritma"/>

        <meta property="og:title" content="Self-Organizing Maps" />
<meta property="og:description" content="Introduction SOM Self-Organizing Maps first introduce by Teuvo Kohonen. According to the Wiki, Self-Organizing Map (SOM) or self-organizing feature map (SOFM) is a type of artificial neural network (ANN) that is trained using unsupervised learning to produce a low-dimensional (typically two-dimensional), discretized representation of the input space of the training samples, called a map, and is therefore a method to do dimensionality reduction. SOM are an unsupervised data visualisation technique that can be used to visualise high-dimensional data sets in lower (typically 2) dimensional representations." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog/self-organizing-maps/" />
<meta property="article:published_time" content="2019-04-26T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-04-26T00:00:00+00:00" />

        <meta property="og:image" content="//images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="512">
        <meta property="og:image:height" content="512">
        <meta itemprop="name" content="Self-Organizing Maps">
<meta itemprop="description" content="Introduction SOM Self-Organizing Maps first introduce by Teuvo Kohonen. According to the Wiki, Self-Organizing Map (SOM) or self-organizing feature map (SOFM) is a type of artificial neural network (ANN) that is trained using unsupervised learning to produce a low-dimensional (typically two-dimensional), discretized representation of the input space of the training samples, called a map, and is therefore a method to do dimensionality reduction. SOM are an unsupervised data visualisation technique that can be used to visualise high-dimensional data sets in lower (typically 2) dimensional representations.">
<meta itemprop="datePublished" content="2019-04-26T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2019-04-26T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="2895">



<meta itemprop="keywords" content="SOM,Clustering,Unsupervised Learning,Machine Learning," />
        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/add-on.css">
            <link rel="stylesheet" href="/css/academicons.min.css">
        

        
            
                
            
                
                    <link rel="stylesheet" href="/css/night-owl.css">
                
            
        


  
    
      <link rel="stylesheet" href="/css/night-owl.css" rel="stylesheet" id="theme-stylesheet">
      <script src="/js/highlight.pack.js"></script>
      <script>hljs.initHighlightingOnLoad();</script>
  


      





    </head>
    <body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      <h1><a href="/">blog</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/">
                            <i class="fa fa-home">&nbsp;</i>Home
                    </a>
                </li>
            
                <li>
                    <a href="/tags/machine-learning/">
                            <i class="fa fa-cog">&nbsp;</i>Machine Learning
                    </a>
                </li>
            
                <li>
                    <a href="/tags/data-visualization/">
                            <i class="fa fa-area-chart">&nbsp;</i>Data Visualization
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/">
                            <h3>
                                <i class="fa fa-home">&nbsp;</i>Home
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags/machine-learning/">
                            <h3>
                                <i class="fa fa-cog">&nbsp;</i>Machine Learning
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags/data-visualization/">
                            <h3>
                                <i class="fa fa-area-chart">&nbsp;</i>Data Visualization
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section class="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/optimization-with-genetic-algorithm/">Optimization and Hyper-Parameter Tuning with Genetic Algorithm</a></h3>
                                
                                <time class="published" datetime=
                                    '2020-01-13'>
                                    January 13, 2020</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/post/">Post</a></h3>
                                
                                <time class="published" datetime=
                                    '2020-01-13'>
                                    January 13, 2020</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/introduction-to-generative-adversarial-network-with-keras/">Introduction to Generative Adversarial Network with Keras</a></h3>
                                
                                <time class="published" datetime=
                                    '2019-12-18'>
                                    December 18, 2019</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/ridge-lasso/">Ridge and LASSO Regression</a></h3>
                                
                                <time class="published" datetime=
                                    '2019-12-18'>
                                    December 18, 2019</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/bio-intro/">Bioinformatics: Decoding Nature&#39;s Code of Life</a></h3>
                                
                                <time class="published" datetime=
                                    '2019-12-02'>
                                    December 2, 2019</time>
                            </header>
                            
    

    
        
        







  
  
    
  


        
        
        

        <a href="/blog/bio-intro/" class="image featured">
            <img src="/img/2019/12/bioinfo.png" alt="">
        </a>
    


                        </article>
                

                
                    <a href=
                        
                            /blog/
                        
                        class="button">View more posts</a>
                
            </div>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            



<li>
  <a href="https://twitter.com/intent/tweet?text=Self-Organizing%20Maps&amp;url=%2fblog%2fself-organizing-maps%2f" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>








<li>
  <a href="https://www.facebook.com/sharer.php?u=%2fblog%2fself-organizing-maps%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>







<li>
  <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fblog%2fself-organizing-maps%2f&amp;title=Self-Organizing%20Maps" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>











        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
  <header>
    <div class="title">
        
            <h2><a href="/blog/self-organizing-maps/">Self-Organizing Maps</a></h2>
        
        
    </div>
    <div class="meta">
        

        <time class="published"
            datetime='2019-04-26'>
            April 26, 2019</time>
        <span class="author"><a href="https://github.com/inytss">Inayatus Sholikhah</a></span>
        
            <p>14 minute read</p>
        
        
    </div>
</header>


  
    <section id="social-share">
      <ul class="icons">
        



<li>
  <a href="https://twitter.com/intent/tweet?text=Self-Organizing%20Maps&amp;url=%2fblog%2fself-organizing-maps%2f" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>








<li>
  <a href="https://www.facebook.com/sharer.php?u=%2fblog%2fself-organizing-maps%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>







<li>
  <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fblog%2fself-organizing-maps%2f&amp;title=Self-Organizing%20Maps" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>











      </ul>
    </section>
  

  
    

    
        
        







  
  
    
  


        
        
        

        <a href="/blog/self-organizing-maps/" class="image featured">
            <img src="/img/2019/04/Algotech_Post_Self_Organizing_Map.png" alt="">
        </a>
    


  <div id="content">
    <h1 id="introduction-som">Introduction SOM</h1>
<p>Self-Organizing Maps first introduce by Teuvo Kohonen. According to the <code>Wiki</code>, Self-Organizing Map (SOM) or self-organizing feature map (SOFM) is a type of artificial neural network (ANN) that is trained using unsupervised learning to produce a low-dimensional (typically two-dimensional), discretized representation of the input space of the training samples, called a map, and is therefore a method to do dimensionality reduction. SOM are an unsupervised data visualisation technique that can be used to visualise high-dimensional data sets in lower (typically 2) dimensional representations. SOM also represent clustering concept by grouping the similar features together. So, SOM can use to cluster high-dimensional data sets by doing dimensionality reduction and visualize it using maps.</p>
<p><!-- raw HTML omitted --></p>
<p>Each data point in the data set recognizes themselves by competeting for representation. SOM mapping steps starts from initializing the weight vectors. From there a sample vector is selected randomly and the map of weight vectors is searched to find which weight best represents that sample. Each weight vector has neighborhood weights that are close to it. The weight that is chosen is rewarded by being able to become more like that randomly selected sample vector. The neighbors of that weight are also rewarded by being able to become more like the chosen sample vector. This allows the map to grow and form different shapes. Most generally, they form square/rectangular/hexagonal/L shapes in 2D feature space.</p>
<p>SOM calculate the distance of each input vector by each weight of nodes. Distance that usually used is Euclidean distance.</p>
<p><em>Algoritma SOM :</em></p>
<ul>
<li>Preparing input data for training data sets.</li>
<li>Each node’s weights are initialized. A vector is chosen at random from the set of training data.</li>
<li>Calculate the distance of each node. The winning node is commonly known as the Best Matching Unit (BMU).</li>
<li>Updating of weight, then calculate again which one's weights are most like the input vectors.</li>
<li>Every BMU has a neighbour then calculated. The amout of neighbour is decrease over time.</li>
<li>The winning weight is rewarded with becoming more like the sample vector. The nighbors also become more like the sample vector. The closer a node is to the BMU, the more its weights get altered and the farther away the neighbor is from the BMU, the less it learns.</li>
<li>Repeat the 2-5 step until every node getting close to input vectors.</li>
</ul>
<p><!-- raw HTML omitted --></p>
<p><em>Implementation use case for SOM algorithm :</em></p>
<ol>
<li>Customer segmentation</li>
<li>Fantasy league analysis</li>
<li>Cyber profilling criminals</li>
<li>Identifying crime</li>
<li>Etc</li>
</ol>
<h1 id="som-analysis">SOM Analysis</h1>
<p>On this article, we want to use <code>web analytics</code> dataset in San Francisco. We want to learn <em>how to use SOM to identify characteristics of each cluster</em> in many web on San Francisco by some features.</p>
<h2 id="library-used">Library Used</h2>
<p>On this article, we used <code>kohonen</code> package for making a SOM algorithm. Since we know that <code>kohonen</code> packages are from <code>class</code>, we use it to make many key function such as :</p>
<ul>
<li><em>somgrid()</em> : initialized SOM node set</li>
<li><em>som()</em> : making a SOM model, change the radius of neighbourhood, learning rate, and iteration</li>
<li><em>plot.kohonen()</em> / <em>plot()</em> : visualisation of resulting SOM</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">library</span>(kohonen)
<span style="color:#a6e22e">library</span>(rmdformats)
<span style="color:#a6e22e">library</span>(dplyr)
</code></pre></div><p>In this article, we want to use <code>ads data</code> from xyz company that make an ads on Facebook.</p>
<h2 id="data-preprocessing">Data Pre-Processing</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">ads <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.csv</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">data_input/KAG_conversion_data.csv&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
  <span style="color:#a6e22e">glimpse</span>()
</code></pre></div><pre><code>#&gt; Observations: 1,143
#&gt; Variables: 11
#&gt; $ ad_id               &lt;int&gt; 708746, 708749, 708771, 708815, 708818, 70...
#&gt; $ xyz_campaign_id     &lt;int&gt; 916, 916, 916, 916, 916, 916, 916, 916, 91...
#&gt; $ fb_campaign_id      &lt;int&gt; 103916, 103917, 103920, 103928, 103928, 10...
#&gt; $ age                 &lt;fct&gt; 30-34, 30-34, 30-34, 30-34, 30-34, 30-34, ...
#&gt; $ gender              &lt;fct&gt; M, M, M, M, M, M, M, M, M, M, M, M, M, M, ...
#&gt; $ interest            &lt;int&gt; 15, 16, 20, 28, 28, 29, 15, 16, 27, 28, 31...
#&gt; $ Impressions         &lt;int&gt; 7350, 17861, 693, 4259, 4133, 1915, 15615,...
#&gt; $ Clicks              &lt;int&gt; 1, 2, 0, 1, 1, 0, 3, 1, 1, 3, 0, 0, 0, 0, ...
#&gt; $ Spent               &lt;dbl&gt; 1.43, 1.82, 0.00, 1.25, 1.29, 0.00, 4.77, ...
#&gt; $ Total_Conversion    &lt;int&gt; 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
#&gt; $ Approved_Conversion &lt;int&gt; 1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, ...
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">ads <span style="color:#f92672">&lt;-</span> ads <span style="color:#f92672">%&gt;%</span> 
  <span style="color:#a6e22e">mutate</span>(ad_id <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.factor</span>(ad_id),
         xyz_campaign_id <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.factor</span>(xyz_campaign_id),
         fb_campaign_id <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.factor</span>(fb_campaign_id)) <span style="color:#f92672">%&gt;%</span> 
  <span style="color:#a6e22e">glimpse</span>()
</code></pre></div><pre><code>#&gt; Observations: 1,143
#&gt; Variables: 11
#&gt; $ ad_id               &lt;fct&gt; 708746, 708749, 708771, 708815, 708818, 70...
#&gt; $ xyz_campaign_id     &lt;fct&gt; 916, 916, 916, 916, 916, 916, 916, 916, 91...
#&gt; $ fb_campaign_id      &lt;fct&gt; 103916, 103917, 103920, 103928, 103928, 10...
#&gt; $ age                 &lt;fct&gt; 30-34, 30-34, 30-34, 30-34, 30-34, 30-34, ...
#&gt; $ gender              &lt;fct&gt; M, M, M, M, M, M, M, M, M, M, M, M, M, M, ...
#&gt; $ interest            &lt;int&gt; 15, 16, 20, 28, 28, 29, 15, 16, 27, 28, 31...
#&gt; $ Impressions         &lt;int&gt; 7350, 17861, 693, 4259, 4133, 1915, 15615,...
#&gt; $ Clicks              &lt;int&gt; 1, 2, 0, 1, 1, 0, 3, 1, 1, 3, 0, 0, 0, 0, ...
#&gt; $ Spent               &lt;dbl&gt; 1.43, 1.82, 0.00, 1.25, 1.29, 0.00, 4.77, ...
#&gt; $ Total_Conversion    &lt;int&gt; 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
#&gt; $ Approved_Conversion &lt;int&gt; 1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, ...
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">levels</span>(ads<span style="color:#f92672">$</span>xyz_campaign_id)
</code></pre></div><pre><code>#&gt; [1] &quot;916&quot;  &quot;936&quot;  &quot;1178&quot;
</code></pre><ul>
<li><code>ad_id</code> : an unique ID of each ad</li>
<li><code>xyz_campaign_id</code> : an ID associated with each ad campaign of XYZ company</li>
<li><code>fb_campaign_id</code> : an ID associated with how Facebook tracks each campaign</li>
<li><code>age</code> : age of the person to whom the ad is shown</li>
<li><code>gender</code> : gender of the person to whon thw ad si shown</li>
<li><code>interest</code> : a code specifying the category to which the person’s interest belongs (interests are as mentioned in the person’s Facebook public profile)</li>
<li><code>Impressions</code> : number of time the ad is shown</li>
<li><code>Clicks</code> : number od click on for the ad</li>
<li><code>Spent</code> : amount paid from xyz company to Facebook to shown the ad</li>
<li><code>Total_Conversion</code> : total number of people who enquired about the product after seeing the ad</li>
<li><code>approved_Conversion</code> : total number of people who bougth the product after seeing the ad</li>
</ul>
<p>As we know that if SOM used numerical data, so if we have chategorical variables we must to change those variable to dummy variables.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># change the chategoric variables to a dummy variables</span>
ads.s <span style="color:#f92672">&lt;-</span> ads <span style="color:#f92672">%&gt;%</span> 
  <span style="color:#a6e22e">mutate</span>(genderF <span style="color:#f92672">=</span> <span style="color:#a6e22e">ifelse</span>(gender <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">F&#34;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>),
         genderM <span style="color:#f92672">=</span> <span style="color:#a6e22e">ifelse</span>(gender <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">M&#34;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>),
         age1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">ifelse</span>(age <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">30-34&#34;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>),
         age2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">ifelse</span>(age <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">35-39&#34;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>),
         age3 <span style="color:#f92672">=</span> <span style="color:#a6e22e">ifelse</span>(age <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">40-44&#34;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>),
         age4 <span style="color:#f92672">=</span> <span style="color:#a6e22e">ifelse</span>(age <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">45-49&#34;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>)) <span style="color:#f92672">%&gt;%</span> 
  <span style="color:#a6e22e">select</span>(<span style="color:#f92672">-</span><span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span><span style="color:#f92672">:</span><span style="color:#ae81ff">5</span>))

<span style="color:#75715e"># make a train data sets that scaled and convert them to be a matrix cause kohonen function accept numeric matrix</span>
ads.train <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.matrix</span>(<span style="color:#a6e22e">scale</span>(ads.s[,<span style="color:#ae81ff">-1</span>]))
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># make a SOM grid</span>
<span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">100</span>)
ads.grid <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">somgrid</span>(xdim <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>, ydim <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>, topo <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">hexagonal&#34;</span>)

<span style="color:#75715e"># make a SOM model</span>
<span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">100</span>)
ads.model <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">som</span>(ads.train, ads.grid, rlen <span style="color:#f92672">=</span> <span style="color:#ae81ff">500</span>, keep.data <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>,
                  dist.fcts <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">euclidean&#34;</span>)
<span style="color:#75715e"># str(ads.model)</span>
</code></pre></div><p>From that summary of <code>ads.model</code> we know that our som grid has 10x10 dimension.</p>
<h1 id="unsupervised-som">Unsupervised SOM</h1>
<h2 id="visualize-of-som">Visualize of SOM</h2>
<p>Before visualize SOM model, let's explore list of SOM model. If we want to know that our data position in maps, we look it in <code>unit.classif</code>. Each values represent the node number to which this application belong. For example, in first value of application, 1 means that in first application has been claaified into 1 particular nodes.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">ads.model<span style="color:#f92672">$</span>unit.classif
</code></pre></div><p>And we can see the classification of each nodes by codes plot and we can see the values of each nodes using the mapping plot.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot</span>(ads.model, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">mapping&#34;</span>, pchs <span style="color:#f92672">=</span> <span style="color:#ae81ff">19</span>, shape <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">round&#34;</span>)
</code></pre></div><p><!-- raw HTML omitted --></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">head</span>(<span style="color:#a6e22e">data.frame</span>(ads.train), <span style="color:#ae81ff">20</span>)
</code></pre></div><pre><code>#&gt;       interest Impressions     Clicks      Spent Total_Conversion
#&gt; 1  -0.65918365  -0.5735416 -0.5693235 -0.5745204       -0.1908387
#&gt; 2  -0.62208084  -0.5399346 -0.5517465 -0.5700329       -0.1908387
#&gt; 3  -0.47366957  -0.5948262 -0.5869005 -0.5909745       -0.4138741
#&gt; 4  -0.17684703  -0.5834245 -0.5693235 -0.5765915       -0.4138741
#&gt; 5  -0.17684703  -0.5838274 -0.5693235 -0.5761313       -0.4138741
#&gt; 6  -0.13974421  -0.5909191 -0.5869005 -0.5909745       -0.4138741
#&gt; 7  -0.65918365  -0.5471158 -0.5341694 -0.5360891       -0.4138741
#&gt; 8  -0.62208084  -0.5620281 -0.5693235 -0.5763614       -0.4138741
#&gt; 9  -0.21394984  -0.5895122 -0.5693235 -0.5737149       -0.4138741
#&gt; 10 -0.17684703  -0.5666610 -0.5341694 -0.5546144       -0.4138741
#&gt; 11 -0.06553857  -0.5931284 -0.5869005 -0.5909745       -0.4138741
#&gt; 12 -0.95600620  -0.5946919 -0.5869005 -0.5909745       -0.4138741
#&gt; 13 -0.62208084  -0.5806812 -0.5869005 -0.5909745       -0.4138741
#&gt; 14 -0.62208084  -0.5806717 -0.5869005 -0.5909745       -0.4138741
#&gt; 15 -0.47366957  -0.5501405 -0.4638613 -0.4726890       -0.4138741
#&gt; 16 -0.17684703  -0.5930740 -0.5869005 -0.5909745       -0.4138741
#&gt; 17 -0.10264139  -0.5896721 -0.5693235 -0.5844158       -0.4138741
#&gt; 18 -0.06553857  -0.5937679 -0.5869005 -0.5909745       -0.4138741
#&gt; 19 -0.65918365  -0.5822479 -0.5693235 -0.5715287       -0.4138741
#&gt; 20 -0.62208084  -0.5298151 -0.5165924 -0.5377000       -0.1908387
#&gt;    Approved_Conversion    genderF   genderM      age1       age2
#&gt; 1           0.03222233 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 2          -0.54324835 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 3          -0.54324835 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 4          -0.54324835 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 5           0.03222233 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 6           0.03222233 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 7          -0.54324835 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 8           0.03222233 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 9          -0.54324835 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 10         -0.54324835 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 11         -0.54324835 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 12         -0.54324835 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 13         -0.54324835 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 14         -0.54324835 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 15          0.03222233 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 16          0.03222233 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 17         -0.54324835 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 18          0.03222233 -0.9643282 0.9643282  1.296775 -0.5261678
#&gt; 19         -0.54324835 -0.9643282 0.9643282 -0.770469  1.8988717
#&gt; 20          0.03222233 -0.9643282 0.9643282 -0.770469  1.8988717
#&gt;          age3       age4
#&gt; 1  -0.4742188 -0.5410454
#&gt; 2  -0.4742188 -0.5410454
#&gt; 3  -0.4742188 -0.5410454
#&gt; 4  -0.4742188 -0.5410454
#&gt; 5  -0.4742188 -0.5410454
#&gt; 6  -0.4742188 -0.5410454
#&gt; 7  -0.4742188 -0.5410454
#&gt; 8  -0.4742188 -0.5410454
#&gt; 9  -0.4742188 -0.5410454
#&gt; 10 -0.4742188 -0.5410454
#&gt; 11 -0.4742188 -0.5410454
#&gt; 12 -0.4742188 -0.5410454
#&gt; 13 -0.4742188 -0.5410454
#&gt; 14 -0.4742188 -0.5410454
#&gt; 15 -0.4742188 -0.5410454
#&gt; 16 -0.4742188 -0.5410454
#&gt; 17 -0.4742188 -0.5410454
#&gt; 18 -0.4742188 -0.5410454
#&gt; 19 -0.4742188 -0.5410454
#&gt; 20 -0.4742188 -0.5410454
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot</span>(ads.model, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">codes&#34;</span>, main <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Codes Plot&#34;</span>, palette.name <span style="color:#f92672">=</span> rainbow)
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>At the first node, we can say that the input data entered on the first node is characterized from the major variable tat have gender M and age range of 30-34. For the second node there is characterized of major variables that have gender M and age range 30-34. Here we can conclude that the node will have neighbors that have similar characteristics to it, that is, like nodes 1 and 2 that are close together because they have gender M and an age range of 30-34 that same.</p>
<h3 id="training-progress">Training Progress</h3>
<p>As the SOM training iterations progress, the distance from each node’s weights to the samples represented by that node is reduced. Ideally, this distance should reach a minimum plateau. This plot option shows the progress over time. If the curve is continually decreasing, more iterations are required.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot</span>(ads.model, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">changes&#34;</span>)
</code></pre></div><p><!-- raw HTML omitted --></p>
<h3 id="node-counts">Node Counts</h3>
<p>The Kohonen packages allows us to visualise the count of how many samples are mapped to each node on the map. This metric can be used as a measure of map quality – ideally the sample distribution is relatively uniform. Large values in some map areas suggests that a larger map would be benificial. Empty nodes indicate that your map size is too big for the number of samples. Aim for at least 5-10 samples per node when choosing map size.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot</span>(ads.model, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">counts&#34;</span>)
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>Nodes that colored by red mean nodes that have the least number of input values, such as in the second nodes. If the color nodes are brighter indicating the nodes have a lot of input values, such as in the 31 nodes. For nodes that have gray colors, that means the nodes do not have input values at all.</p>
<h3 id="neighbours-nodes">Neighbours Nodes</h3>
<p>If we want to see nodes that have the closest or farthest neighbours, we can plot a plot based on <code>dist.neighbours</code>. Nodes that have darker colors mean that the nodes have a vector input that is closer, whereas nodes that have lighter colors mean that the nodes have vector inputs that are farther apart.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot</span>(ads.model, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dist.neighbours&#34;</span>)
</code></pre></div><p><!-- raw HTML omitted --></p>
<h3 id="heatmaps">Heatmaps</h3>
<p>Heatmaps are perhaps the most important visualisation possible for Self-Organising Maps.  A SOM heatmap allows the visualisation of the distribution of a single variable across the map. Typically, a SOM investigative process involves the creation of multiple heatmaps, and then the comparison of these heatmaps to identify interesting areas on the map. It is important to remember that the individual sample positions do not move from one visualisation to another, the map is simply coloured by different variables.
The default Kohonen heatmap is created by using the type “heatmap”, and then providing one of the variables from the set of node weights. In this case we visualise the average education level on the SOM.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">heatmap.som <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">function</span>(model){
  <span style="color:#a6e22e">for </span>(i in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">12</span>) {
   <span style="color:#a6e22e">plot</span>(model, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">property&#34;</span>, property <span style="color:#f92672">=</span> <span style="color:#a6e22e">getCodes</span>(model)[,i], 
        main <span style="color:#f92672">=</span> <span style="color:#a6e22e">colnames</span>(<span style="color:#a6e22e">getCodes</span>(model))[i]) 
  }
}
<span style="color:#a6e22e">heatmap.som</span>(ads.model)
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>From the heatmap that is formed, we can know which nodes have the characteristics of each variable whose value is high and the value is low.</p>
<h3 id="clustering">Clustering</h3>
<p>Then we want to try to clustering every observation that we have without looking the labels of <code>xyz_campaign_id</code>. Like making cluster using k-means, we must determine the number of cluster that we want to make. In this case, we want to use elbow method to determine number of cluster.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">library</span>(factoextra)
<span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">100</span>)
<span style="color:#a6e22e">fviz_nbclust</span>(ads.model<span style="color:#f92672">$</span>codes[[1]], kmeans, method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">wss&#34;</span>)
</code></pre></div><p><!-- raw HTML omitted --></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">100</span>)
clust <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">kmeans</span>(ads.model<span style="color:#f92672">$</span>codes[[1]], <span style="color:#ae81ff">6</span>)

<span style="color:#75715e"># cluster.som &lt;- cutree(hclust(dist(ads.model$codes[[1]])), 6)</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot</span>(ads.model, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">codes&#34;</span>, bgcol <span style="color:#f92672">=</span> <span style="color:#a6e22e">rainbow</span>(<span style="color:#ae81ff">9</span>)[clust<span style="color:#f92672">$</span>cluster], main <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Cluster Map&#34;</span>)
<span style="color:#a6e22e">add.cluster.boundaries</span>(ads.model, clust<span style="color:#f92672">$</span>cluster)
</code></pre></div><p><!-- raw HTML omitted -->
At this part, to do the profiling of the clusters that we made, we do not need to look at the descriptive results of the cluster or look deeper into the data, we only need to look at the cluster map above.</p>
<p>The characteristics for each cluster :</p>
<ul>
<li>Cluster 1 (red) : gender Male, age 30-34</li>
<li>Cluster 2 (orange) : gender Female, gender Male, age 40-44, interest middle</li>
<li>Cluster 3 (green light) : gender Female, gender Male,  age 45-49, interest high, impression middle, clicks middle</li>
<li>Cluster 4 (green) : interest high, impression high, clicks high, spent high, gender Male, age 30-34, total conversion high, approved conversion high</li>
<li>Cluster 5 (turqois) : gender Female, age 45-49, interest middle, clicks and spent low</li>
<li>Cluster 6 (blue) : gender Female, age 30-34, interest high</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># know cluster each data</span>
ads.cluster <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(ads.s, cluster <span style="color:#f92672">=</span> clust<span style="color:#f92672">$</span>cluster[ads.model<span style="color:#f92672">$</span>unit.classif])
<span style="color:#a6e22e">tail</span>(ads.cluster, <span style="color:#ae81ff">10</span>)
</code></pre></div><pre><code>#&gt;      xyz_campaign_id interest Impressions Clicks  Spent Total_Conversion
#&gt; 1134            1178      104      558666    110 162.64               14
#&gt; 1135            1178      105     1118200    235 333.75               11
#&gt; 1136            1178      106      107100     23  33.71                1
#&gt; 1137            1178      107      877769    160 232.59               13
#&gt; 1138            1178      108      212508     33  47.69                4
#&gt; 1139            1178      109     1129773    252 358.19               13
#&gt; 1140            1178      110      637549    120 173.88                3
#&gt; 1141            1178      111      151531     28  40.29                2
#&gt; 1142            1178      113      790253    135 198.71                8
#&gt; 1143            1178      114      513161    114 165.61                5
#&gt;      Approved_Conversion genderF genderM age1 age2 age3 age4 cluster
#&gt; 1134                   5       1       0    0    0    0    1       3
#&gt; 1135                   4       1       0    0    0    0    1       3
#&gt; 1136                   0       1       0    0    0    0    1       5
#&gt; 1137                   4       1       0    0    0    0    1       3
#&gt; 1138                   1       1       0    0    0    0    1       5
#&gt; 1139                   2       1       0    0    0    0    1       3
#&gt; 1140                   0       1       0    0    0    0    1       5
#&gt; 1141                   0       1       0    0    0    0    1       5
#&gt; 1142                   2       1       0    0    0    0    1       3
#&gt; 1143                   2       1       0    0    0    0    1       3
</code></pre><h1 id="supervised-som">Supervised SOM</h1>
<p>In supervised SOM, we want to classify our SOM model with our dependent variable (xyz_campaign_id).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># split data</span>
<span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">100</span>)
int <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sample</span>(<span style="color:#a6e22e">nrow</span>(ads.s), <span style="color:#a6e22e">nrow</span>(ads.s)<span style="color:#f92672">*</span><span style="color:#ae81ff">0.8</span>)
train <span style="color:#f92672">&lt;-</span> ads.s[int,]
test <span style="color:#f92672">&lt;-</span> ads.s[<span style="color:#f92672">-</span>int,]

<span style="color:#75715e"># scaling data</span>
trainX <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">scale</span>(train[,<span style="color:#ae81ff">-1</span>])
testX <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">scale</span>(test[,<span style="color:#ae81ff">-1</span>], center <span style="color:#f92672">=</span> <span style="color:#a6e22e">attr</span>(trainX, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">scaled:center&#34;</span>))


<span style="color:#75715e"># make label</span>
train.label <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">factor</span>(train[,<span style="color:#ae81ff">1</span>])
test.label <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">factor</span>(test[,<span style="color:#ae81ff">1</span>])
test[,<span style="color:#ae81ff">1</span>] <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">916</span>
testXY <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">list</span>(independent <span style="color:#f92672">=</span> testX, dependent <span style="color:#f92672">=</span> test.label)
</code></pre></div><h2 id="classification">Classification</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># classification &amp; predict</span>
<span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">100</span>)
class <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">xyf</span>(trainX, <span style="color:#a6e22e">classvec2classmat</span>(train.label), ads.grid, rlen <span style="color:#f92672">=</span> <span style="color:#ae81ff">500</span>)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot</span>(class, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">changes&#34;</span>)
</code></pre></div><p><!-- raw HTML omitted --></p>
<h2 id="predict">Predict</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">pred <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">predict</span>(class, newdata <span style="color:#f92672">=</span> testXY)
<span style="color:#a6e22e">table</span>(Predict <span style="color:#f92672">=</span> pred<span style="color:#f92672">$</span>predictions[[2]], Actual <span style="color:#f92672">=</span> test.label)
</code></pre></div><pre><code>#&gt;        Actual
#&gt; Predict 916 936 1178
#&gt;    916   14   0    0
#&gt;    936    0 101    0
#&gt;    1178   0   0  114
</code></pre><h2 id="cluster-boundaries">Cluster Boundaries</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot</span>(ads.model, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">codes&#34;</span>, bgcol <span style="color:#f92672">=</span> <span style="color:#a6e22e">rainbow</span>(<span style="color:#ae81ff">9</span>)[clust<span style="color:#f92672">$</span>cluster], main <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Cluster SOM&#34;</span>)
<span style="color:#a6e22e">add.cluster.boundaries</span>(ads.model, clust<span style="color:#f92672">$</span>cluster)
</code></pre></div><p><!-- raw HTML omitted --></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">c.class <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">kmeans</span>(class<span style="color:#f92672">$</span>codes[[2]], <span style="color:#ae81ff">3</span>)
<span style="color:#a6e22e">par</span>(mfrow <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>))
<span style="color:#a6e22e">plot</span>(class, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">codes&#34;</span>, main <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Unsupervised SOM&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Supervised SOM&#34;</span>), 
     bgcol <span style="color:#f92672">=</span> <span style="color:#a6e22e">rainbow</span>(<span style="color:#ae81ff">3</span>)[c.class<span style="color:#f92672">$</span>cluster])
<span style="color:#a6e22e">add.cluster.boundaries</span>(class, c.class<span style="color:#f92672">$</span>cluster)
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>From the results of SOM clustering using unsupervised and supervised, we can conclude that for xyz_campaign_id 916 more interested in the ads displayed are Male and Female aged 30-49 and they are interested in existing ads and then make payments after seeing the ads.
For xyz_campaign_id 936, those who see the ads is Male and Female in ranging age from 30-39 and they are only interested in the ads that are displayed but to make payments after seeing the ads are small.
For xyz_campaign_id 1178, which saw more ads for Female and aged 30-34 years.</p>
<p><em>Advantage using SOM :</em></p>
<ul>
<li>Intuitive method to develop profilling</li>
<li>Easy to explain the result with the maps</li>
<li>Can visualize high-dimensional data by two-dimensional maps</li>
</ul>
<p><em>Disadvantage using SOM :</em></p>
<ul>
<li>Requires clean, numeric data</li>
</ul>
<h1 id="annotation">Annotation</h1>
<p>[1] <a href="https://en.wikipedia.org/wiki/Self-organizing_map">Wikipedia. Self-organizing Maps.</a></p>
<p>[2] <a href="https://towardsdatascience.com/self-organizing-maps-ff5853a118d4">Ralhan, A. 2018. <em>Self Organizing Maps</em>.</a></p>
<p>[3] <a href="https://www.shanelynn.ie/self-organising-maps-for-customer-segmentation-using-r/">Lynn, Shane. Self-Organizing Maps for Customer Segementation using R.</a></p>

  </div>

  <footer>
    <ul class="stats">
  <li class="categories">
    <ul>
        
            
            
                <i class="fa fa-folder"></i>
                
                
                <li><a class="article-category-link" href="/categories/r">R</a></li>
                
            
        
    </ul>
  </li>
  <li class="tags">
    <ul>
        
            
            
                <i class="fa fa-tags"></i>
                
                
                <li><a class="article-category-link" href="/tags/som">SOM</a></li>
                
                
                <li><a class="article-category-link" href="/tags/clustering">Clustering</a></li>
                
                
                <li><a class="article-category-link" href="/tags/unsupervised-learning">Unsupervised Learning</a></li>
                
                
                <li><a class="article-category-link" href="/tags/machine-learning">Machine Learning</a></li>
                
            
        
    </ul>
  </li>
</ul>

  </footer>

</article>

    <article class="post">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "https-algotech-netlify-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </article>


<ul class="actions pagination">
    
        <li><a href="/blog/age-period-cohort-apc-analysis/"
                class="button big previous">Age-Period-Cohort (APC) Analysis</a></li>
    

    
        <li><a href="/blog/creating-choropleth-with-mapshaper-and-r/"
                class="button big next">Creating Choropleth with Mapshaper and R</a></li>
    
</ul>


    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
      
        <a href='/'><img src="/img/main/logo.png" class="intro-circle" width="30%" alt="Hugo Future Imperfect" /></a>
      
    
    
      <header>
        <h2>Algoritma Technical Blog</h2>
        <p>We're a group of people who teach data science to individuals, trains companies and their employees to better profit from data. We care about the development of data science and a sense of community that connects our alumni and team with one another. To learn more about our approach to data science problems, feel free to hop over to our blog.</p>
      </header>
    
    
      <ul class="icons">
        
        
  <li><a href="//github.com/teamalgoritma" target="_blank" title="GitHub" class="fa fa-github"></a></li>



























  <li><a href="//linkedin.com/company/teamalgoritma" target="_blank" title="LinkedIn Company" class="fa fa-linkedin"></a></li>









  <li><a href="//facebook.com/teamalgoritma" target="_blank" title="Facebook" class="fa fa-facebook"></a></li>





















  <li><a href="//instagram.com/teamalgoritma" target="_blank" title="Instagram" class="fa fa-instagram"></a></li>





  <li><a href="//twitter.com/teamalgoritma" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>




















      </ul>
    
  </section>



  
  
  

  
  

  
  <section id="footer">
    <p class="copyright">
      
        &copy; 2020
        
          Algoritma Technical Blog
        
      .
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
      
      
      
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js"></script>
        
        
        
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/r.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/css.min.js"></script>
        <script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>
      
    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="/js/util.js"></script>
      <script src="/js/main.js"></script>
      <script src="/js/backToTop.js"></script>
    

    
      
        
      
        
          <script src="/js/bootstrap.min.js"></script>
        
      
    

    
    <script>hljs.initHighlightingOnLoad();</script>
      <script src="//yihui.name/js/math-code.js"></script>
<script async
src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


  </body>
</html>

